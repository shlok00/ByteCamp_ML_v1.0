<!DOCTYPE html>
<html>

<head>
  <title>Analytics dashboard</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="graphs.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v6.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js'></script>
  <script src="https://d3js.org/d3-scale-chromatic.v2.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
  <script src="https://code.highcharts.com/maps/highmaps.js"></script>
  <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/mapdata/countries/in/in-all.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-more.js"></script>

</head>
<style>
</style>

<body>
  <div class="row">
    <div class="column">
      <div id="test" style="text-align: center; color: white;">
        <h2 style="font-family: 'Courier New', monospace;">Test your Safety!</h2>
        <form id = "myForm" onsubmit="genNumber()">
          <br>
          <div class="row1">
            <div class="col-25">
              <label for="age">Enter Age: </label>
            </div>
            <div class="col-25">
              <input type="number" id="fage" name="age" placeholder="Enter your age">
            </div>
          </div>
          <br>
          <div class="row1">
            <div class="col-25">
              <label for="city">Enter City: </label>
            </div>
            <div class="col-25">
              <select id="city" name="city">
                <option value="Mumbai">Mumbai</option>
                <option value="Pune">Pune</option>
                <option value="Delhi">Delhi</option>
                <option value="Kolkata">Kolkata</option>
                <option value="Chennai">Chennai</option>
                <option value="Bangalore">Bangalore</option>
                <option value="Patna">Patna</option>
                <option value="Hyderabad">Hyderabad</option>
                <option value="Surat">Surat</option>
              </select>
            </div>
          </div>
          <br>

          <div class="row1">
            <div class="col-25">
              <label for="Gender">Enter Gender:</label>
            </div>
            <div class="col-25">
              <select id="fgender" name="gender">
                <option value="Female">Female</option>
                <option value="Male">Male</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>
          <br>
          <div class="row1">
            <div class="col-25"></div>
            <div class="col-25">
              <input type="submit" value="Submit">
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="column">
      <div id="test" style="text-align:center;">
        <div id="result" style="visibility:hidden;"></div>
        <h2 style="color:white;" id="resulttext"></h2>
      </div>
    </div>
    <div class="column">
      <div id="map">
      </div>
    </div>
    <div class="column">
      <div id="bubble"></div>
    </div>
    <div class="column">
      <div id="gender"></div>
    </div>
    <div class="column">
      <div id="dept"></div>
    </div>
    <div class="column" style="flex: 96%; max-width: 96%;">
      <div id="age"></div>
    </div>
  </div>
</body>
<script>
var form = document.getElementById("myForm");
function handleForm(event) { event.preventDefault(); }
form.addEventListener('submit', handleForm);
var n=0;
const nem = () => {
  document.querySelector("#result").style.setProperty("--percent", n);
};
setInterval(nem, 2000);
setTimeout(nem);
  function genNumber(){
    document.getElementById('result').style.visibility = 'visible';
    n = document.getElementById('fage').value/100;
    if (n>=.70)
    {document.getElementById('resulttext').innerHTML="YOU ARE NOT SAFE!";}
    else if (n<.70 && n>=.40)
    {document.getElementById('resulttext').innerHTML="NOT HIGH RISK BUT BE CAREFUL!";}
    else {
      document.getElementById('resulttext').innerHTML="YOU ARE ON THE SAFER SIDE!";
    }
  };
</script>
<script>
  var data = [
    ['in-py', 10],
    ['in-ld', 14],
    ['in-wb', 28],
    ['in-or', 32],
    ['in-br', 44],
    ['in-sk', 56],
    ['in-ct', 64],
    ['in-tn', 73],
    ['in-mp', 82],
    ['in-2984', 9],
    ['in-ga', 10],
    ['in-nl', 11],
    ['in-mn', 12],
    ['in-ar', 13],
    ['in-mz', 14],
    ['in-tr', 15],
    ['in-3464', 16],
    ['in-dl', 17],
    ['in-hr', 18],
    ['in-ch', 19],
    ['in-hp', 20],
    ['in-jk', 91],
    ['in-kl', 22],
    ['in-ka', 63],
    ['in-dn', 74],
    ['in-mh', 85],
    ['in-as', 26],
    ['in-ap', 27],
    ['in-ml', 28],
    ['in-pb', 29],
    ['in-rj', 30],
    ['in-up', 31],
    ['in-ut', 82],
    ['in-jh', 33]
  ];

  const data2 = [{
      name: 'in-py',
      value: 10
    },
    {
      name: 'in-ld',
      value: 14
    },
    {
      name: 'in-wb',
      value: 28
    },
    {
      name: 'in-or',
      value: 32
    },
    {
      name: 'in-br',
      value: 44
    },
    {
      name: 'in-sk',
      value: 56
    },
    {
      name: 'in-ct',
      value: 64
    },
    {
      name: 'in-tn',
      value: 73
    },
    {
      name: 'in-mp',
      value: 82
    },
    {
      name: 'in-2984',
      value: 9
    },
    {
      name: 'in-ga',
      value: 10
    },
    {
      name: 'in-nl',
      value: 11
    },
    {
      name: 'in-mn',
      value: 12
    },
    {
      name: 'in-ar',
      value: 13
    },
    {
      name: 'in-mz',
      value: 14
    },
    {
      name: 'in-tr',
      value: 15
    },
    {
      name: 'in-3464',
      value: 16
    },
    {
      name: 'in-dl',
      value: 17
    },
    {
      name: 'in-hr',
      value: 18
    },
    {
      name: 'in-ch',
      value: 19
    },
    {
      name: 'in-hp',
      value: 20
    },
    {
      name: 'in-jk',
      value: 91
    },
    {
      name: 'in-kl',
      value: 22
    },
    {
      name: 'in-ka',
      value: 63
    },
    {
      name: 'in-dn',
      value: 74
    },
    {
      name: 'in-mh',
      value: 85
    },
    {
      name: 'in-as',
      value: 26
    },
    {
      name: 'in-ap',
      value: 27
    },
    {
      name: 'in-ml',
      value: 28
    },
    {
      name: 'in-pb',
      value: 29
    },
    {
      name: 'in-rj',
      value: 30
    },
    {
      name: 'in-up',
      value: 31
    },
    {
      name: 'in-ut',
      value: 82
    },
    {
      name: 'in-jh',
      value: 33
    }
  ];

  Highcharts.setOptions({
    colors: ['#058DC7', '#50B432', '#ED561B', '#DDDF00', '#24CBE5', '#64E572', '#FF9655', '#FFF263', '#6AF9C4']
  });

  // Create the chart
  Highcharts.mapChart('map', {
    chart: {
      map: 'countries/in/in-all',
      backgroundColor: 'rgba(0,0,0,0)'

    },

    title: {
      text: 'Cases per State',
      style: {
        color: '#FFFFFF',
      }

    },

    subtitle: {
      text: 'Source map: <a href="http://code.highcharts.com/mapdata/countries/in/in-all.js">India</a>',
      style: {
        color: '#FFFFFF',
      }


    },

    mapNavigation: {
      enabled: true,
      buttonOptions: {
        verticalAlign: 'bottom'
      }
    },

    colorAxis: {
      min: 0,
      minColor: '#8bc9c4',
      maxColor: '#05403b',
      tickColor: '#FFFFFF'
    },

    series: [{
      data: data,
      name: 'Missing Person Cases',
      states: {
        hover: {
          color: '#55fae9'
        }
      },

      dataLabels: {
        enabled: false,
        format: '{point.name}'
      }
    }],
    legend: {
      itemStyle: {
        color: 'blue'
      }
    },
    credits: {
      enabled: false
    }
  });


  Highcharts.chart('bubble', {
    chart: {
      type: 'packedbubble',
      height: '95%',
      backgroundColor: 'rgba(0,0,0,0)'

    },
    title: {
      text: 'Cases in the country',
      style: {
        color: '#ffffff'
      }
    },
    tooltip: {
      useHTML: true,
      pointFormat: '<b>{point.name}:</b> {point.value} Cases'
    },
    colorAxis: {
      min: 0,
      minColor: '#33ccbf',
      maxColor: '#01293d',
      tickColor: '#FFFFFF'
    },
    plotOptions: {
      packedbubble: {
        minSize: '20%',
        maxSize: '100%',
        zMin: 0,
        zMax: 300,
        layoutAlgorithm: {
          gravitationalConstant: 0.04,
          splitSeries: true,
          seriesInteraction: false,
          dragBetweenSeries: true,
          parentNodeLimit: true
        },
        dataLabels: {
          enabled: true,
          format: '{point.name}',
          filter: {
            property: 'y',
            operator: '>',
            value: 40
          },
          style: {
            color: 'black',
            textOutline: 'none',
            fontWeight: 'normal'
          }
        }
      }
    },
    series: [{

      name: 'India',
      data: data2,
      color: '#078a7f'
    }],
    credits: {
      enabled: false
    }
  });

  Highcharts.chart('gender', {
    chart: {
      type: 'column',
      height: '87%',
      backgroundColor: 'rgba(0,0,0,0)'
    },
    title: {
      text: 'Cases by Gender per Year',
      style: {
        color: '#ffffff'
      }
    },
    xAxis: {
      categories: ['2017', '2018', '2019', '2020', '2021'],
      labels: {
        style: {
          color: 'white'
        }
      }

    },
    yAxis: {
      labels: {
        style: {
          color: 'white'
        }
      }
    },
    legend: {
      itemStyle: {
        color: 'white'
      }
    },
    credits: {
      enabled: false
    },
    series: [{
      name: 'Female',
      data: [15, 13, 14, 7, 12],
      color: '#57ff73'
    }, {
      name: 'Male',
      data: [2, 2, 3, 2, 1],
      color: '#0a89c4'
    }, {
      name: 'Other',
      data: [7, 4, 8, 12, 5],
      color: '#bafff3'
    }]
  });

  Highcharts.chart('dept', {
    chart: {
      type: 'pie',
      height: '87%',
      backgroundColor: 'rgba(0,0,0,0)'
    },
    title: {
      text: 'Cases, Department wise',
      style: {
        color: '#ffffff'
      }
    },
    tooltip: {
      pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
      point: {
        valueSuffix: '%'
      }
    },
    plotOptions: {
      pie: {
        allowPointSelect: true,
        cursor: 'pointer',
        dataLabels: {
          enabled: true,
          format: '<b>{point.name}</b>: {point.percentage:.1f} %',
          color: 'white'
        }
      }
    },

    series: [{
      name: 'Department',
      data: [{
          name: 'Missing People',
          y: 61.41
        },
        {
          name: 'Rape',
          y: 11.84
        },
        {
          name: 'Manslaughter',
          y: 10.85
        },
        {
          name: 'Murder',
          y: 4.67
        },
        {
          name: 'Theft and Arson',
          y: 4.18
        },
        {
          name: 'Other',
          y: 7.05
        }
      ],
      colors: ['#b8fff0', '#60dbc1', '#42a691', '#0c856b', '#035241', '#02261f']

    }]
  });
</script>

</html>
